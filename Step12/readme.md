# Занятие № 12
**Шаблон Наблюдатель**

Цель:
- Показать новый шаблон `Наблюдатель`
- Закрепить опыт работы с ООП
 
## Выполнить
* Создать класс перечисление - типы событий `event_type`. Добавить следующие варианты:
	- DELETE_NOMENCLATURE = 1
	- CHANGE_NOMENCLATURE = 2
* Создать класс реализацию шаблона `Наблюдатель`
* Добавить класс `nomenclature_service` и реализовать обработку `raise_event`
* Создать набор модульных тестов для проверки работы нового шаблона.


## Задание
1. Доработать класс `nomenclature_service` в котором реализовать:
	- Добавление номенклатуры
    	- Изменением свойств номенклатуры
    	- Получение номенклатуры
   	- Удаление номенклатуры
2. В классе `nomenclature_service` использовать шаблон **Прототип** для поиска информации. 
3. Подключить новый сервис к Web методам
	- /api/nomenclature `GET` (получение) [один элемент]
    	- /api/nomenclature `PUT` (добавление)
    	- /api/nomenclature `PATCH` (изменение)
    	- /api/nomenclature `DELETE` (удаление)
4. Реализовать пост обработчики с использованием шаблона **Наблюдатель**:
	- При удалении. Проверять, наличие номенклатуры в рецепте или в сохраненных данных. Если есть такая номенклатура, то блокировать удаление.
	- При изменении, менять свойства номенклатуры : `рецепт`, `сохраненные обороты` 
5. Обязательно реализовать набор модульных тестов
